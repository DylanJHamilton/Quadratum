{%- comment -%}
  sections/social-media-linkedin-company-highlight.liquid
  Quadratum — Social Media · LinkedIn company highlight (static/manual)
{%- endcomment -%}

{%- if section.settings.enable_section -%}
  {%- liquid
    assign s = section.settings

    assign align = s.align | default: 'left'
    assign variant = s.variant | default: 'card'

    assign section_align_class = 'q-linkedin-highlight--align-left'
    if align == 'center'
      assign section_align_class = 'q-linkedin-highlight--align-center'
    endif

    assign section_variant_class = 'q-linkedin-highlight--card'
    if variant == 'strip'
      assign section_variant_class = 'q-linkedin-highlight--strip'
    endif

    assign header_align_class = 'q-section__header--left'
    if align == 'center'
      assign header_align_class = 'q-section__header--center'
    endif

    assign logo_alt = s.company_name | default: 'Company logo' | escape
  -%}

  <section
    id="social-media-linkedin-company-highlight-{{ section.id }}"
    class="q-section q-linkedin-highlight {{ section_align_class }} {{ section_variant_class }}"
    aria-label="{{ s.aria_label | escape }}"
  >
    <div class="q-section__inner">
      {%- if s.kicker != blank or s.heading != blank -%}
        <header class="q-section__header {{ header_align_class }}">
          {%- if s.kicker != blank -%}
            <p class="q-section__kicker">{{ s.kicker | escape }}</p>
          {%- endif -%}

          {%- if s.heading != blank -%}
            <h2 class="q-section__heading">{{ s.heading | escape }}</h2>
          {%- endif -%}
        </header>
      {%- endif -%}

      <div class="q-linkedin-highlight__layout">
        <div class="q-linkedin-highlight__company">
          <div class="q-linkedin-highlight__company-header">
            {%- if s.company_logo != blank -%}
              <div class="q-linkedin-highlight__logo-wrap">
                {{
                  s.company_logo
                  | image_url: width: 160
                  | image_tag:
                    class: 'q-linkedin-highlight__logo',
                    loading: 'lazy',
                    alt: logo_alt
                }}
              </div>
            {%- endif -%}

            <div class="q-linkedin-highlight__title">
              {%- if s.company_name != blank -%}
                <div class="q-linkedin-highlight__name">{{ s.company_name | escape }}</div>
              {%- endif -%}

              {%- if s.company_tagline != blank -%}
                <div class="q-linkedin-highlight__tagline">{{ s.company_tagline | escape }}</div>
              {%- endif -%}
            </div>
          </div>

          {%- if s.company_blurb != blank -%}
            <div class="q-linkedin-highlight__blurb">
              {{ s.company_blurb | escape | newline_to_br }}
            </div>
          {%- endif -%}
        </div>

        {%- if s.show_stats -%}
          <div class="q-linkedin-highlight__stats" role="list" aria-label="LinkedIn stats">
            {%- if s.stat_followers_label != blank and s.stat_followers_value != blank -%}
              <div class="q-linkedin-highlight__stat" role="listitem">
                <div class="q-linkedin-highlight__stat-value">{{ s.stat_followers_value | escape }}</div>
                <div class="q-linkedin-highlight__stat-label">{{ s.stat_followers_label | escape }}</div>
              </div>
            {%- endif -%}

            {%- if s.stat_employees_label != blank and s.stat_employees_value != blank -%}
              <div class="q-linkedin-highlight__stat" role="listitem">
                <div class="q-linkedin-highlight__stat-value">{{ s.stat_employees_value | escape }}</div>
                <div class="q-linkedin-highlight__stat-label">{{ s.stat_employees_label | escape }}</div>
              </div>
            {%- endif -%}

            {%- if s.stat_endorsements_label != blank and s.stat_endorsements_value != blank -%}
              <div class="q-linkedin-highlight__stat" role="listitem">
                <div class="q-linkedin-highlight__stat-value">{{ s.stat_endorsements_value | escape }}</div>
                <div class="q-linkedin-highlight__stat-label">{{ s.stat_endorsements_label | escape }}</div>
              </div>
            {%- endif -%}
          </div>
        {%- endif -%}

        {%- if s.cta_enable and s.cta_url != blank and s.cta_label != blank -%}
          <div class="q-linkedin-highlight__cta">
            <a href="{{ s.cta_url }}" class="q-button q-button--primary q-linkedin-highlight__cta-button">
              {{ s.cta_label | escape }}
            </a>
          </div>
        {%- endif -%}
      </div>
    </div>
  </section>

  <style>
    .q-linkedin-highlight .q-linkedin-highlight__layout{
      display:grid;
      gap: var(--q-space-lg, 24px);
      align-items:start;
    }

    .q-linkedin-highlight--card .q-linkedin-highlight__layout{
      padding: var(--q-space-lg, 24px);
      border-radius: var(--q-radius, 16px);
      border: 1px solid rgba(0,0,0,0.10);
    }

    .q-linkedin-highlight--strip .q-linkedin-highlight__layout{
      padding: var(--q-space-md, 16px) 0;
    }

    .q-linkedin-highlight__company-header{
      display:flex;
      align-items:center;
      gap: var(--q-space-md, 16px);
    }

    .q-linkedin-highlight__logo-wrap{
      flex: 0 0 auto;
      width: 56px;
      height: 56px;
      border-radius: calc(var(--q-radius, 16px) * 0.75);
      overflow:hidden;
    }

    .q-linkedin-highlight__logo{
      width:100%;
      height:100%;
      object-fit:contain;
      display:block;
    }

    .q-linkedin-highlight__name{
      font-weight: 700;
      line-height: 1.15;
    }

    .q-linkedin-highlight__tagline{
      margin-top: 4px;
      opacity: 0.85;
    }

    .q-linkedin-highlight__blurb{
      margin-top: var(--q-space-sm, 12px);
      max-width: 70ch;
    }

    .q-linkedin-highlight__stats{
      display:flex;
      flex-wrap:wrap;
      gap: var(--q-space-md, 16px);
    }

    .q-linkedin-highlight__stat{
      min-width: 140px;
    }

    .q-linkedin-highlight__stat-value{
      font-weight: 800;
      line-height: 1.1;
      font-size: 1.1em;
    }

    .q-linkedin-highlight__stat-label{
      margin-top: 4px;
      opacity: 0.8;
      font-size: 0.95em;
    }

    .q-linkedin-highlight__cta{
      display:flex;
    }

    .q-linkedin-highlight--align-center .q-linkedin-highlight__layout{
      text-align:center;
      justify-items:center;
    }

    .q-linkedin-highlight--align-center .q-linkedin-highlight__company-header{
      justify-content:center;
      text-align:left;
    }

    .q-linkedin-highlight--align-center .q-linkedin-highlight__cta{
      justify-content:center;
    }

    @media (min-width: 900px){
      .q-linkedin-highlight__layout{
        grid-template-columns: 1.35fr 0.9fr auto;
        align-items:center;
      }

      .q-linkedin-highlight--align-center .q-linkedin-highlight__layout{
        grid-template-columns: 1.35fr 0.9fr auto;
      }

      .q-linkedin-highlight--strip .q-linkedin-highlight__layout{
        grid-template-columns: 1.6fr 1fr auto;
      }
    }

    @media (max-width: 899px){
      .q-linkedin-highlight__cta{
        width:100%;
      }
      .q-linkedin-highlight__cta-button{
        width:100%;
        text-align:center;
      }
    }
  </style>
{%- endif -%}

{% schema %}
{
  "name": "Social - LI Highlight",
  "tag": "section",
  "class": "q-section q-linkedin-highlight",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_section",
      "label": "Enable section",
      "default": true
    },

    {
      "type": "text",
      "id": "kicker",
      "label": "Kicker",
      "default": "Social presence"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Connect with us on LinkedIn"
    },

    {
      "type": "image_picker",
      "id": "company_logo",
      "label": "Company logo"
    },
    {
      "type": "text",
      "id": "company_name",
      "label": "Company name",
      "default": "Your Company"
    },
    {
      "type": "text",
      "id": "company_tagline",
      "label": "Tagline",
      "default": "Building modern, conversion-focused digital experiences."
    },
    {
      "type": "textarea",
      "id": "company_blurb",
      "label": "LinkedIn presence description",
      "default": "We share behind-the-scenes updates, case studies, and practical insights for growing your brand on LinkedIn."
    },

    {
      "type": "header",
      "content": "Stats (manual)"
    },
    {
      "type": "checkbox",
      "id": "show_stats",
      "label": "Show stats row",
      "default": true
    },
    {
      "type": "text",
      "id": "stat_followers_label",
      "label": "Followers label",
      "default": "Followers"
    },
    {
      "type": "text",
      "id": "stat_followers_value",
      "label": "Followers value",
      "default": "5,000+"
    },
    {
      "type": "text",
      "id": "stat_employees_label",
      "label": "Employees label",
      "default": "Team members"
    },
    {
      "type": "text",
      "id": "stat_employees_value",
      "label": "Employees value",
      "default": "25+"
    },
    {
      "type": "text",
      "id": "stat_endorsements_label",
      "label": "Endorsements label",
      "default": "Recommendations"
    },
    {
      "type": "text",
      "id": "stat_endorsements_value",
      "label": "Endorsements value",
      "default": "100+"
    },

    {
      "type": "header",
      "content": "Layout & style"
    },
    {
      "type": "select",
      "id": "align",
      "label": "Content alignment",
      "default": "left",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ]
    },
    {
      "type": "select",
      "id": "variant",
      "label": "Layout variant",
      "default": "card",
      "options": [
        { "value": "card", "label": "Card" },
        { "value": "strip", "label": "Strip" }
      ]
    },

    {
      "type": "header",
      "content": "Call to action"
    },
    {
      "type": "checkbox",
      "id": "cta_enable",
      "label": "Show CTA button",
      "default": true
    },
    {
      "type": "text",
      "id": "cta_label",
      "label": "CTA label",
      "default": "Connect on LinkedIn"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "CTA URL",
      
    },

    {
      "type": "header",
      "content": "Accessibility"
    },
    {
      "type": "text",
      "id": "aria_label",
      "label": "ARIA label for section",
      "default": "LinkedIn company highlight section"
    }
  ],
  "blocks": [],
  "presets": [
    {
      "name": "Social Media - LinkedIn Company Highlight",
      "category": "Social Media"
    }
  ]
}
{% endschema %}
