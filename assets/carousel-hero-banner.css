/* Core peeked layout */
.q-carousel-viewport { overflow: visible; padding-inline: clamp(16px, 5vw, 64px); }
.q-carousel-track { display: flex; gap: clamp(12px,3vw,24px); transition: transform 0.7s cubic-bezier(0.45,0,0.2,1); }

.q-carousel-slide {
  --peek: clamp(24px,6vw,80px);
  flex: 0 0 calc(100% - var(--peek));
  position: relative;
  border-radius: 24px;
  overflow: clip;
  background: #fff;
  box-shadow: 0 10px 30px rgba(0,0,0,.12);
  min-height: 60vh;
}
.q-carousel-bg,.q-carousel-overlay{border-radius:inherit;position:absolute;inset:0;}
.q-carousel-media{width:100%;height:100%;object-fit:cover;}
.q-carousel-content{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;padding:clamp(2rem,5vw,4rem);}
.q-carousel-inner{max-width:680px;margin-inline:auto;}
.q-text-center .q-carousel-actions{justify-content:center;}
.q-text-left .q-carousel-actions{justify-content:flex-start;}
.q-text-right .q-carousel-actions{justify-content:flex-end;}
.q-carousel-actions{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1.5rem;}
.q-btn-custom{background:var(--btn-bg,#111);color:var(--btn-color,#fff);padding:0.75rem 1.5rem;border-radius:12px;font-weight:600;text-decoration:none;transition:.3s;}
.q-btn-custom:hover{opacity:.9;transform:scale(1.02);}
.q-btn--alt{background:#fff;color:#111;}

/* Animations */
[data-anim="fade"].is-active{animation:fadeIn .8s ease both;}
[data-anim="slide"].is-active{animation:slideIn .8s ease both;}
[data-anim="zoom"].is-active{animation:zoomIn .8s ease both;}
[data-anim="kenburns"].q-carousel-bg img{animation:kenBurns 12s ease-in-out infinite alternate;}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideIn{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:none}}
@keyframes zoomIn{from{opacity:0;transform:scale(1.05)}to{opacity:1;transform:scale(1)}}
@keyframes kenBurns{from{transform:scale(1)}to{transform:scale(1.1)}}

/* Arrows + dots */
.q-carousel-arrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(255,255,255,.9);border:none;width:42px;height:42px;border-radius:50%;cursor:pointer;z-index:5;}
.q-carousel-arrow--prev{left:clamp(16px,4vw,40px);}
.q-carousel-arrow--next{right:clamp(16px,4vw,40px);}
.q-carousel-arrow:hover{background:#fff;transform:translateY(-50%) scale(1.1);}
.q-carousel-nav{position:absolute;bottom:1rem;left:0;right:0;display:flex;justify-content:center;gap:.5rem;}
.q-carousel-dot{width:10px;height:10px;border-radius:50%;background:rgba(255,255,255,.4);border:none;cursor:pointer;}
.q-carousel-dot.is-active{background:#fff;transform:scale(1.2);}
@media(max-width:767px){.q-carousel-arrow{display:none;}.q-carousel-slide{--peek:clamp(32px,12vw,96px);}}

/* ensure transitionend always fires, even with reduced motion */
@media (prefers-reduced-motion: reduce) {
  .q-carousel-track {
    transition: transform 1ms linear; /* tiny but non-zero */
  }
}

/* optional: make dots reflect aria-current (your JS sets this) */
.q-carousel-dot[aria-current="true"] {
  background: #fff;
  transform: scale(1.2);
}
