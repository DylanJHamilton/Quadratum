/* Quadratum — CTA: Quote Form (global styles) */
/* Scope everything to the section root class */
.q-cta-quote-form { position: relative; color: var(--q-text, #111); }

/* ===== Layout scaffolding ===== */
.q-cta-quote-form .q-bleed{ position:relative; }
.q-cta-quote-form .q-bg{ position:absolute; inset:0; z-index:0; overflow:hidden; pointer-events:none; }
.q-cta-quote-form .q-media{ width:100%; height:100%; object-fit:cover; display:block; }
.q-cta-quote-form .q-overlay{ position:absolute; inset:0; pointer-events:none; }
.q-cta-quote-form .q-layer{ position:relative; z-index:1; padding: var(--q-pad-y, 64px) 0; }

/* container widths (derive from theme tokens with fallbacks) */
.q-cta-quote-form .q-wrap{
  max-width: var(--q-cont, var(--q-cont-lg, 1152px));
  margin: 0 auto;
  padding-left: var(--q-pad-x, 24px);
  padding-right: var(--q-pad-x, 24px);
}

/* grid for Split template */
.q-cta-quote-form .q-grid{ display:grid; gap:24px; align-items:stretch; }
@media (min-width: 768px){
  .q-cta-quote-form .q-grid.split-left  { grid-template-columns: 1.1fr 1fr; }
  .q-cta-quote-form .q-grid.split-right { grid-template-columns: 1fr 1.1fr; }
}

/* card */
.q-cta-quote-form .q-card{
  background: #fff;
  border-radius: var(--q-card-br, 16px);
  padding: 28px;
  box-shadow:
    0 1px 2px rgba(0,0,0,.06),
    0 8px 24px rgba(0,0,0,.08);
}
.q-cta-quote-form .q-media-card{ border-radius: var(--q-card-br, 16px); overflow:hidden; background:#000; min-height: 240px; }

/* headings */
.q-cta-quote-form .q-head .q-kicker{ color: var(--q-muted, #6b7280); font-size:.95rem; margin:0 0 4px; }
.q-cta-quote-form .q-head .q-heading{ margin:0 0 8px; color: var(--q-text, #111); line-height:1.2; }
.q-cta-quote-form .q-head .q-sub{ color: var(--q-muted, #6b7280); margin:0 0 16px; }

/* fields layout */
.q-cta-quote-form .q-fields{ display:flex; flex-wrap:wrap; gap:12px; }
.q-cta-quote-form .q-field{ width:100%; }
.q-cta-quote-form .q-field.half{ width: calc(50% - 6px); }
@media (max-width: 639.98px){ .q-cta-quote-form .q-field.half{ width:100%; } }

/* form controls */
.q-cta-quote-form .q-label{ display:block; font-weight:600; margin:8px 0 6px; color: var(--q-text, #111); }
.q-cta-quote-form .q-help{ font-size:.875rem; color: var(--q-muted, #6b7280); margin:4px 0 0; }
.q-cta-quote-form .q-input,
.q-cta-quote-form .q-select,
.q-cta-quote-form .q-textarea{
  width:100%;
  border:1px solid rgba(0,0,0,.12);
  border-radius: 10px;
  padding: 12px 14px;
  background:#fff;
  color: var(--q-text, #111);
}
.q-cta-quote-form .q-textarea{ min-height: 120px; resize: vertical; }
.q-cta-quote-form .q-radio{ display:flex; align-items:flex-start; gap:10px; }
.q-cta-quote-form .q-radio input[type="checkbox"]{ margin-top: 4px; }
.q-cta-quote-form .q-radio span{ line-height:1.3; }
.q-cta-quote-form .q-error{ color: var(--q-error, #dc2626); font-size:.85rem; margin-top:6px; }
.q-cta-quote-form [aria-invalid="true"]{ border-color: var(--q-error, #dc2626); outline:1px solid var(--q-error, #dc2626); }

/* buttons */
.q-cta-quote-form .q-btn{
  --_bg: var(--q-btn-bg, #2563eb);
  --_fg: var(--q-btn-fg, #fff);
  --_bdr: var(--q-btn-bdr, var(--q-btn-bg, #2563eb));
  display:inline-flex; align-items:center; justify-content:center;
  gap:8px;
  padding: 12px 20px;
  border-radius: var(--q-btn-br, 12px);
  border-width: var(--q-btn-bw, 1px);
  border-style: solid;
  text-decoration:none; cursor:pointer; user-select:none;
  transition: transform .12s ease, opacity .12s ease, background-color .12s ease, color .12s ease, border-color .12s ease;
}
.q-cta-quote-form .q-btn.q-btn--solid   { background: var(--_bg); color: var(--_fg); border-color: var(--_bg); }
.q-cta-quote-form .q-btn.q-btn--outline { background: transparent; color: var(--_bg); border-color: var(--_bg); }
.q-cta-quote-form .q-btn.q-btn--ghost   { background: transparent; color: var(--_bg); border-color: transparent; }
.q-cta-quote-form .q-btn[disabled]{ opacity:.6; pointer-events:none; }
.q-cta-quote-form .q-btn:not([disabled]):hover{ opacity: calc(var(--q-btn-hover-op, 92) / 100); }
.q-cta-quote-form .q-btn:not([disabled]):active{ transform: scale(var(--q-btn-active-scale, .98)); }

/* live region */
.q-cta-quote-form .q-live{ position:relative; margin:8px 0 0; min-height: 1.2em; }
.q-cta-quote-form .q-live .ok{ color: var(--q-success, #16a34a); }
.q-cta-quote-form .q-live .bad{ color: var(--q-error, #dc2626); }

/* Steps */
.q-cta-quote-form [data-q-steps]{ margin-top: 10px; }
.q-cta-quote-form .q-steps-nav{ display:flex; align-items:center; gap:10px; margin:0 0 12px; }
.q-cta-quote-form .q-steps-bar{ flex:1; height:6px; background: rgba(0,0,0,.08); border-radius:6px; overflow:hidden; }
.q-cta-quote-form .q-steps-fill{ height:100%; background: var(--q-btn-bg, #2563eb); width:0%; transition: width .2s ease; }
.q-cta-quote-form .q-steps-count{ font-size:.875rem; color: var(--q-muted, #6b7280); }
.q-cta-quote-form .q-steps-actions{ display:flex; gap:8px; margin-top:16px; }
.q-cta-quote-form .q-step{ display:none; }
.q-cta-quote-form .q-step.is-active{ display:block; }

/* Conditional */
.q-cta-quote-form .is-hidden{ display:none !important; }

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  .q-cta-quote-form .q-btn { transition: none; }
  .q-cta-quote-form .q-steps-fill{ transition: none; }
}

/* wrap + arrow */
.q-cta-quote-form .q-select-wrap{ position:relative; }
.q-cta-quote-form .q-select{
  appearance: none; -webkit-appearance: none; -moz-appearance: none;
  padding-right: 40px; /* space for arrow */
  background-color:#fff;
}
.q-cta-quote-form .q-select-wrap::after{
  content:""; position:absolute; right:12px; top:50%; transform:translateY(-50%);
  width: 10px; height: 6px;
  background: currentColor;
  -webkit-mask: radial-gradient(circle 5px at 50% 100%, #000 98%, transparent 100%) top/10px 6px no-repeat,
               linear-gradient(#000 0 0) bottom/10px 2px no-repeat;
  mask: radial-gradient(circle 5px at 50% 100%, #000 98%, transparent 100%) top/10px 6px no-repeat,
        linear-gradient(#000 0 0) bottom/10px 2px no-repeat;
  opacity:.6; pointer-events:none;
}
.q-cta-quote-form .q-select:focus{ outline:2px solid rgba(37,99,235,.35); outline-offset:2px; }

.q-cta-quote-form .q-input,
.q-cta-quote-form .q-select,
.q-cta-quote-form .q-textarea{
  border-radius: var(--q-input-br, 10px);
  border-color: var(--q-input-bdr, #E5E7EB);
}
.q-cta-quote-form .q-input:focus,
.q-cta-quote-form .q-select:focus,
.q-cta-quote-form .q-textarea:focus{
  outline: 2px solid var(--q-input-focus,#93C5FD);
  outline-offset: 2px;
}

.q-cta-quote-form .q-actions{ display:flex; gap:12px; justify-content: flex-start; }
.q-cta-quote-form .q-actions.is-center{ justify-content:center; }
.q-cta-quote-form .q-actions.is-end{ justify-content:flex-end; }
.q-cta-quote-form .q-btn.is-full{ width:100%; }

/* Ensure fields don’t inherit right/center text-alignment from section copy */
.q-cta-quote-form .q-field { text-align: left; }

/* Checkbox / Radio alignment */
.q-cta-quote-form .q-radio{
  display:flex; align-items:center; gap:10px;
  justify-content:flex-start; /* prevent spacing apart on right-aligned sections */
}
.q-cta-quote-form .q-radio input{ margin:0; flex:0 0 auto; }
.q-cta-quote-form .q-radio span{ margin:0; line-height:1.35; }

/* Native select restyle */
.q-cta-quote-form .q-select{
  -webkit-appearance:none; -moz-appearance:none; appearance:none;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%232563eb' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat:no-repeat;
  background-position: right 12px center;
  padding-right: 42px; /* room for chevron */
}

/* Windows high-contrast improvement */
@media (forced-colors: active){
  .q-cta-quote-form .q-select{ background: ButtonFace; color: ButtonText; }
}

.q-cta-quote-form .q-field{ text-align:left; }
.q-cta-quote-form .q-radio{ display:flex; align-items:center; gap:10px; justify-content:flex-start; }
.q-cta-quote-form .q-radio input{ margin:0; flex:0 0 auto; }
.q-cta-quote-form .q-select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%232563eb' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat:no-repeat; background-position:right 12px center; padding-right:42px;
}

/* Card + inputs use schema tokens */
.q-cta-quote-form .q-card{ background: var(--q-form-bg,#fff); }
.q-cta-quote-form .q-input,.q-cta-quote-form .q-select,.q-cta-quote-form .q-textarea{
  border-radius: var(--q-input-br,10px);
  border-color: var(--q-input-bdr,#e5e7eb);
}
/* Select chevron color driven by schema token */
.q-cta-quote-form .q-select{
  appearance:none; -webkit-appearance:none; -moz-appearance:none;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23{{ s.select_arrow | default: settings.color_primary | replace: '#','' }}' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
  background-repeat:no-repeat; background-position:right 12px center; padding-right:42px;
}
