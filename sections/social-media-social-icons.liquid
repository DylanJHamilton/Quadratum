{% comment %}
  Quadratum — Social Media: Social Icons Row (reset)

  Goals:
  • Standalone section showing social icons in a row
  • Optional heading/body (can be hidden for icon-only row)
  • Uses simple glyph icons (no external snippet dependency)
  • Safe schema (no invalid defaults)
{% endcomment %}

{%- assign s = section.settings -%}
{%- assign g = settings -%}

{%- comment %}
  Global social URL fallbacks from Theme Settings → Integrations → Social Profile Links
{%- endcomment -%}
{%- assign social_fb  = g.social_url_facebook -%}
{%- assign social_ig  = g.social_url_instagram -%}
{%- assign social_tt  = g.social_url_tiktok -%}
{%- assign social_yt  = g.social_url_youtube -%}
{%- assign social_tw  = g.social_url_twitter -%}
{%- assign social_pin = g.social_url_pinterest -%}

{{ 'social-media.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .q-social-icons {
    padding: var(--q-section-pad-y, 48px) 0;
  }

  .q-social-icons .q-container {
    max-width: var(--q-container-md, 960px);
    margin: 0 auto;
    padding: 0 1.5rem;
  }

  .q-social-icons__header {
    text-align: center;
    margin-bottom: 1.5rem;
  }

  .q-social-icons__eyebrow {
    font-size: 0.75rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: #6b7280;
    margin-bottom: 0.25rem;
  }

  .q-social-icons__heading {
    font-size: 1.25rem;
    font-weight: 600;
    margin: 0 0 0.25rem;
  }

  .q-social-icons__body {
    margin: 0;
    color: #4b5563;
  }

  .q-social-icons__inner.q-align-left .q-social-icons__header {
    text-align: left;
  }
  .q-social-icons__inner.q-align-right .q-social-icons__header {
    text-align: right;
  }

  .q-social-icons__list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--q-social-gap, 16px);
    justify-content: center;
  }

  .q-social-icons__item {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    font-size: 0.875rem;
    line-height: 1;
    border-radius: 999px;
    padding: 0.5rem 0.875rem;
    background-color: {{ g.bg_contrast | default: '#f3f4f6' }};
    color: {{ g.text_base | default: '#111827' }};
    transition: transform 120ms ease, background-color 120ms ease,
      box-shadow 120ms ease, color 120ms ease;
  }

  .q-social-icons__item:hover {
    transform: translateY(-1px);
    background-color: #e5e7eb;
    box-shadow: 0 6px 18px rgba(15, 23, 42, 0.12);
  }

  .q-social-icons__item:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(15, 23, 42, 0.2);
  }

  .q-social-icons__icon {
    --q-icon-size: 22px;
    width: var(--q-icon-size);
    height: var(--q-icon-size);
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-right: 0.5rem;
    background-color: {{ g.color_secondary | default: '#111827' }};
    color: {{ g.text_on_color | default: '#ffffff' }};
    font-size: calc(var(--q-icon-size) * 0.55);
  }

  .q-social-icons__label {
    white-space: nowrap;
  }

  /* layout variants */
  .q-social-icons__list--wrap {
    flex-wrap: wrap;
  }

  .q-social-icons__inner.q-justify-flex-start .q-social-icons__list {
    justify-content: flex-start;
  }
  .q-social-icons__inner.q-justify-center .q-social-icons__list {
    justify-content: center;
  }
  .q-social-icons__inner.q-justify-flex-end .q-social-icons__list {
    justify-content: flex-end;
  }

  /* style variants */
  .q-social-icons--style-soft .q-social-icons__item {
    background-color: #f9fafb;
  }
  .q-social-icons--style-soft .q-social-icons__item:hover {
    background-color: #f3f4f6;
  }

  .q-social-icons--style-bare .q-social-icons__item {
    background: transparent;
    padding: 0;
    box-shadow: none;
  }
  .q-social-icons--style-bare .q-social-icons__item:hover {
    background: transparent;
    box-shadow: none;
    transform: none;
  }
  .q-social-icons--style-bare .q-social-icons__icon {
    margin-right: 0;
  }

  /* icon-only mode (hide visible labels, keep sr-only) */
  .q-social-icons--labels-hidden .q-social-icons__label {
    display: none;
  }

  @media (max-width: 640px) {
    .q-social-icons .q-container {
      padding: 0 1.25rem;
    }
  }

  .visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
{%- endstyle -%}

<section
  class="
    q-social-icons
    q-social-icons--layout-{{ s.layout_variant }}
    q-social-icons--style-{{ s.style }}
    {% unless s.show_labels %}q-social-icons--labels-hidden{% endunless %}
  "
  style="--q-social-gap: {{ s.gap }}px;"
  aria-label="{{ s.aria_label | escape }}"
>
  <div class="q-container">
    <div
      class="
        q-social-icons__inner
        q-align-{{ s.align }}
        q-justify-{{ s.justify }}
      "
    >
      {%- unless s.hide_text -%}
        {%- if s.heading != blank or s.body != blank -%}
          <div class="q-social-icons__header">
            {%- if s.eyebrow != blank -%}
              <p class="q-social-icons__eyebrow">
                {{ s.eyebrow | escape }}
              </p>
            {%- endif -%}
            {%- if s.heading != blank -%}
              <h2 class="q-social-icons__heading">
                {{ s.heading | escape }}
              </h2>
            {%- endif -%}
            {%- if s.body != blank -%}
              <p class="q-social-icons__body">
                {{ s.body }}
              </p>
            {%- endif -%}
        </div>
        {%- endif -%}
      {%- endunless -%}

      {%- if section.blocks.size > 0 -%}
        <div
          class="q-social-icons__list q-social-icons__list--{{ s.layout_variant }}"
          role="list"
          style="
            --q-social-gap: {{ s.gap }}px;
            flex-wrap: {% if s.wrap_on_mobile %}wrap{% else %}nowrap{% endif %};
          "
        >
          {%- for block in section.blocks -%}
            {%- assign b = block.settings -%}

            {%- comment %}
              Resolve URL:
              1. Block-level URL
              2. Global theme social URL (by network)
            {%- endcomment -%}
            {%- assign url = b.url -%}
            {%- if url == blank -%}
              {%- case b.network -%}
                {%- when 'facebook'  -%}{%- assign url = social_fb  -%}
                {%- when 'instagram' -%}{%- assign url = social_ig  -%}
                {%- when 'tiktok'    -%}{%- assign url = social_tt  -%}
                {%- when 'youtube'   -%}{%- assign url = social_yt  -%}
                {%- when 'twitter'   -%}{%- assign url = social_tw  -%}
                {%- when 'pinterest' -%}{%- assign url = social_pin -%}
              {%- endcase -%}
            {%- endif -%}

            {%- if url != blank -%}
              {% liquid
                assign glyph = '●'
                case b.network
                  when 'facebook'
                    assign glyph = 'f'
                  when 'instagram'
                    assign glyph = 'IG'
                  when 'tiktok'
                    assign glyph = 'T'
                  when 'twitter'
                    assign glyph = 'X'
                  when 'youtube'
                    assign glyph = '▶'
                  when 'pinterest'
                    assign glyph = 'P'
                  when 'linkedin'
                    assign glyph = 'in'
                  when 'other'
                    assign glyph = '●'
                endcase
              %}

              <a
                role="listitem"
                href="{{ url }}"
                class="q-social-icons__item"
                {% if s.open_in_new_tab %}
                  target="_blank"
                  rel="noopener noreferrer"
                {% endif %}
                {{ block.shopify_attributes }}
              >
                <span
                  class="q-social-icons__icon"
                  style="--q-icon-size: {{ s.icon_size }}px;"
                  aria-hidden="true"
                >
                  {{ glyph }}
                </span>

                {%- if s.show_labels -%}
                  <span class="q-social-icons__label">
                    {{ b.label | default: b.network | capitalize }}
                  </span>
                {%- else -%}
                  <span class="visually-hidden">
                    {{ b.sr_label | default: b.label | default: b.network }}
                  </span>
                {%- endif -%}
              </a>
            {%- endif -%}
          {%- endfor -%}
        </div>
      {%- endif -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Social Media - Icon Row",
  "tag": "section",
  "class": "q-section q-section--social-icons",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "eyebrow",
      "label": "Eyebrow",
      "default": "Connect with us"
    },
    {
      "type": "checkbox",
      "id": "hide_text",
      "label": "Hide heading and description",
      "default": false
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Follow Best Website Builder Group"
    },
    {
      "type": "textarea",
      "id": "body",
      "label": "Description",
      "default": "Get web design tips, case studies, and special offers."
    },
    {
      "type": "checkbox",
      "id": "show_labels",
      "label": "Show network labels (Facebook, Instagram, etc.)",
      "default": false
    },

    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "align",
      "label": "Text alignment",
      "default": "center",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ]
    },
    {
      "type": "select",
      "id": "layout_variant",
      "label": "Icon layout",
      "default": "inline",
      "options": [
        { "value": "inline", "label": "Inline row" },
        { "value": "wrap", "label": "Wrapped row" }
      ]
    },
    {
      "type": "select",
      "id": "justify",
      "label": "Icon alignment",
      "default": "center",
      "options": [
        { "value": "flex-start", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "flex-end", "label": "Right" }
      ]
    },
    {
      "type": "select",
      "id": "style",
      "label": "Icon style",
      "default": "pill",
      "options": [
        { "value": "pill", "label": "Pill buttons" },
        { "value": "soft", "label": "Soft background" },
        { "value": "bare", "label": "Icons only (no box)" }
      ]
    },
    {
      "type": "range",
      "id": "icon_size",
      "label": "Icon size (px)",
      "min": 16,
      "max": 40,
      "step": 1,
      "default": 22
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap between icons (px)",
      "min": 4,
      "max": 40,
      "step": 2,
      "default": 16
    },
    {
      "type": "checkbox",
      "id": "wrap_on_mobile",
      "label": "Wrap icons on small screens",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "open_in_new_tab",
      "label": "Open links in a new tab",
      "default": true
    },

    {
      "type": "header",
      "content": "Accessibility"
    },
    {
      "type": "text",
      "id": "aria_label",
      "label": "Section aria-label",
      "default": "Best Website Builder Group social media links"
    }
  ],
  "blocks": [
    {
      "type": "social_link",
      "name": "Social link",
      "settings": [
        {
          "type": "select",
          "id": "network",
          "label": "Network",
          "default": "facebook",
          "options": [
            { "value": "facebook", "label": "Facebook" },
            { "value": "instagram", "label": "Instagram" },
            { "value": "tiktok", "label": "TikTok" },
            { "value": "twitter", "label": "Twitter / X" },
            { "value": "youtube", "label": "YouTube" },
            { "value": "pinterest", "label": "Pinterest" },
            { "value": "linkedin", "label": "LinkedIn" },
            { "value": "other", "label": "Other" }
          ]
        },
        {
          "type": "url",
          "id": "url",
          "label": "Profile URL"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Facebook"
        },
        {
          "type": "text",
          "id": "sr_label",
          "label": "Screen reader label",
          "default": "Visit us on Facebook"
        }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [
    {
      "name": "Social Media - Icon Row",
      "category": "Social - Media",
      "blocks": [
        {
          "type": "social_link",
          "settings": {
            "network": "facebook",
            "url": "https://www.facebook.com",
            "label": "Facebook",
            "sr_label": "Visit us on Facebook"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "network": "instagram",
            "url": "https://www.instagram.com",
            "label": "Instagram",
            "sr_label": "Visit us on Instagram"
          }
        },
        {
          "type": "social_link",
          "settings": {
            "network": "tiktok",
            "url": "https://www.tiktok.com",
            "label": "TikTok",
            "sr_label": "Visit us on TikTok"
          }
        }
      ]
    }
  ]
}
{% endschema %}

{% stylesheet %}
.q-social-icons-row {
  padding: var(--q-section-pad-y, 2.5rem) 0;
}

/* leaving legacy row styles in case you reference them elsewhere  */
{% endstylesheet %}

{% javascript %}{% endjavascript %}
