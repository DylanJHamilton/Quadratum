{%- comment -%}
  Reusable media renderer for boxed-content-banner.
  Expects:
    - s: section.settings
    - media_col_class: string like "lg:col-span-6"
{%- endcomment -%}

<div class="col-span-1 {{ media_col_class }}">
  {% assign is_video = false %}
  {% if s.media_type == 'video' and s.media_video_url != blank %}
    {% assign is_video = true %}
  {% endif %}

  {% if is_video %}
    <div class="relative w-full overflow-hidden rounded-xl bg-black">
      <video class="w-full h-auto"
             autoplay loop muted playsinline preload="none"
             {% if s.media_poster != blank %}poster="{{ s.media_poster | image_url: width: 1280 }}"{% endif %}>
        <source src="{{ s.media_video_url }}" type="video/mp4">
      </video>
    </div>
  {% elsif s.media_image != blank %}
    {% assign sizes_media = '(min-width: 1024px) 50vw, 100vw' %}
    {% assign widths_media = '640,750,828,960,1080,1280,1440' %}
    <div class="relative w-full overflow-hidden rounded-xl">
      {{ s.media_image
        | image_url: width: 1440
        | image_tag:
          widths: widths_media,
          sizes: sizes_media,
          loading: 'lazy',
          class: 'w-full h-auto object-cover',
          alt: s.media_alt | default: 'Promotional media' }}
    </div>
  {% endif %}
</div>
