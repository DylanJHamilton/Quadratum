{%- comment -%}
  sections/social-media-quote-spotlight.liquid
  Quadratum — Social Media · Quote post spotlight (static)
  • Self-contained (no snippets)
  • OS 2.0 schema-valid, non-empty defaults
  • No logic inside {{ }}
{%- endcomment -%}

{%- if section.settings.enable_section -%}
  {%- liquid
    assign s = section.settings

    assign align = s.align | default: 'center'
    assign variant = s.variant | default: 'card'
    assign emphasis = s.emphasis | default: 'subtle'

    assign header_align_class = 'q-section__header--center'
    if align == 'left'
      assign header_align_class = 'q-section__header--left'
    endif

    assign wrapper_variant_class = 'q-quote-spotlight--card'
    if variant == 'strip'
      assign wrapper_variant_class = 'q-quote-spotlight--strip'
    endif

    assign emphasis_class = 'q-quote-spotlight--subtle'
    if emphasis == 'highlight'
      assign emphasis_class = 'q-quote-spotlight--highlight'
    endif

    assign quote_text_safe = s.quote_text | default: '“Featured quote.”' | escape | newline_to_br
  -%}

  <section
    id="social-media-quote-spotlight-{{ section.id }}"
    class="q-section q-quote-spotlight {{ wrapper_variant_class }} {{ emphasis_class }}"
    aria-label="{{ s.aria_label | escape }}"
  >
    <div class="q-section__inner">
      {%- if s.kicker != blank or s.heading != blank -%}
        <header class="q-section__header {{ header_align_class }}">
          {%- if s.kicker != blank -%}
            <p class="q-section__kicker">{{ s.kicker | escape }}</p>
          {%- endif -%}

          {%- if s.heading != blank -%}
            <h2 class="q-section__heading">{{ s.heading | escape }}</h2>
          {%- endif -%}
        </header>
      {%- endif -%}

      <div class="q-quote-spotlight__body q-quote-spotlight__body--{{ align }}">
        <article class="q-quote-spotlight__card">
          {%- if s.platform_label != blank -%}
            <div class="q-quote-spotlight__platform">
              <span class="q-quote-spotlight__platform-label">{{ s.platform_label | escape }}</span>
            </div>
          {%- endif -%}

          {%- if s.quote_text != blank -%}
            <blockquote class="q-quote-spotlight__quote">
              {{ quote_text_safe }}
            </blockquote>
          {%- endif -%}

          <footer class="q-quote-spotlight__meta">
            {%- if s.quote_name != blank -%}
              <div class="q-quote-spotlight__name">{{ s.quote_name | escape }}</div>
            {%- endif -%}

            {%- if s.quote_handle != blank -%}
              <div class="q-quote-spotlight__handle">{{ s.quote_handle | escape }}</div>
            {%- endif -%}
          </footer>

          {%- if s.cta_enable and s.cta_url != blank and s.cta_label != blank -%}
            <div class="q-quote-spotlight__cta">
              <a
                href="{{ s.cta_url }}"
                class="q-button q-button--text q-quote-spotlight__cta-link"
                aria-label="{{ s.cta_label | escape }}"
              >
                {{ s.cta_label | escape }}
              </a>
            </div>
          {%- endif -%}
        </article>
      </div>
    </div>
  </section>
{%- endif -%}

{% schema %}
{
  "name": "Social Media - Spotlight",
  "tag": "section",
  "class": "q-section q-quote-spotlight",
  "settings": [
    {
      "type": "checkbox",
      "id": "enable_section",
      "label": "Enable section",
      "default": true
    },

    {
      "type": "text",
      "id": "kicker",
      "label": "Kicker",
      "default": "Social proof"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "What people are saying"
    },

    {
      "type": "textarea",
      "id": "quote_text",
      "label": "Quote text",
      "default": "“This brand has completely changed the way we do business online.”"
    },
    {
      "type": "text",
      "id": "quote_name",
      "label": "Name",
      "default": "Alex Martinez"
    },
    {
      "type": "text",
      "id": "quote_handle",
      "label": "Handle or role",
      "default": "@alexmartinez · Founder"
    },
    {
      "type": "text",
      "id": "platform_label",
      "label": "Platform label",
      "default": "X"
    },

    {
      "type": "header",
      "content": "Layout & style"
    },
    {
      "type": "select",
      "id": "align",
      "label": "Content alignment",
      "default": "center",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" }
      ]
    },
    {
      "type": "select",
      "id": "variant",
      "label": "Layout variant",
      "default": "card",
      "options": [
        { "value": "card", "label": "Card" },
        { "value": "strip", "label": "Strip" }
      ]
    },
    {
      "type": "select",
      "id": "emphasis",
      "label": "Emphasis style",
      "default": "subtle",
      "options": [
        { "value": "subtle", "label": "Subtle background" },
        { "value": "highlight", "label": "High contrast highlight" }
      ]
    },

    {
      "type": "header",
      "content": "Call to action"
    },
    {
      "type": "checkbox",
      "id": "cta_enable",
      "label": "Show call to action",
      "default": true
    },
    {
      "type": "text",
      "id": "cta_label",
      "label": "CTA label",
      "default": "Join the conversation on X"
    },
    {
      "type": "url",
      "id": "cta_url",
      "label": "CTA URL",
    },

    {
      "type": "header",
      "content": "Accessibility"
    },
    {
      "type": "text",
      "id": "aria_label",
      "label": "ARIA label for section",
      "default": "Featured quote from social media"
    }
  ],
  "blocks": [],
  "presets": [
    {
      "name": "Social Media - Quote Post Spotlight",
      "category": "Social Media"
    }
  ]
}
{% endschema %}

{% stylesheet %}
  .q-quote-spotlight .q-section__header {
    margin-bottom: 18px;
  }

  .q-quote-spotlight .q-section__header--center {
    text-align: center;
  }

  .q-quote-spotlight .q-section__header--left {
    text-align: left;
  }

  .q-quote-spotlight__body {
    display: flex;
    justify-content: center;
  }

  .q-quote-spotlight__body--left {
    justify-content: flex-start;
  }

  .q-quote-spotlight__card {
    width: 100%;
    max-width: 780px;
    border-radius: var(--q-radius, 16px);
    padding: 18px;
    border: 1px solid rgba(0, 0, 0, 0.10);
    background: rgba(0, 0, 0, 0.02);
  }

  /* Emphasis variants (no hard theme colors required) */
  .q-quote-spotlight--subtle .q-quote-spotlight__card {
    background: rgba(0, 0, 0, 0.02);
  }
  .q-quote-spotlight--highlight .q-quote-spotlight__card {
    background: rgba(0, 0, 0, 0.06);
    border-color: rgba(0, 0, 0, 0.14);
  }

  .q-quote-spotlight__platform {
    display: flex;
    justify-content: flex-end;
    margin-bottom: 10px;
  }

  .q-quote-spotlight__platform-label {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 0.85em;
    line-height: 1;
    padding: 6px 10px;
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.12);
    background: rgba(255, 255, 255, 0.75);
  }

  .q-quote-spotlight__quote {
    margin: 0;
    font-size: 1.15em;
    line-height: 1.5;
  }

  .q-quote-spotlight__meta {
    margin-top: 14px;
    display: grid;
    gap: 2px;
  }

  .q-quote-spotlight__name {
    font-weight: 600;
  }

  .q-quote-spotlight__handle {
    opacity: 0.75;
    font-size: 0.95em;
  }

  .q-quote-spotlight__cta {
    margin-top: 14px;
  }

  /* Strip variant: flatter + wider feel */
  .q-quote-spotlight--strip .q-quote-spotlight__card {
    max-width: 980px;
    padding: 16px 18px;
  }

  @media (min-width: 750px) {
    .q-quote-spotlight--strip .q-quote-spotlight__card {
      display: grid;
      grid-template-columns: 1fr auto;
      column-gap: 18px;
      align-items: center;
    }

    .q-quote-spotlight--strip .q-quote-spotlight__platform {
      grid-column: 2;
      grid-row: 1;
      margin: 0;
      justify-content: flex-end;
    }

    .q-quote-spotlight--strip .q-quote-spotlight__quote {
      grid-column: 1;
      grid-row: 1;
    }

    .q-quote-spotlight--strip .q-quote-spotlight__meta,
    .q-quote-spotlight--strip .q-quote-spotlight__cta {
      grid-column: 1 / -1;
    }
  }
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
