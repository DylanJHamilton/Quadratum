/* ================================
   Quadratum • Hero Banner (Classic)
   Shared styles (asset)
   - Driven by --q-* variables set inline on each <section.q-hero-classic>
   - No section-id selectors; safe for multiple instances
=================================== */

/* Token base — fonts inherited from theme */
.q-hero-classic {
  isolation: isolate;
  position: relative;
  overflow: visible;
}

/* Box model & text safety */
.q-hero-classic *, .q-hero-classic *::before, .q-hero-classic *::after {
  box-sizing: border-box;
}

/* Keep content above overlays */
.q-hero-classic .q-layer {
  position: relative;
  z-index: 10 !important;
  min-height: var(--q-min-h, 75vh);
}

/* ====== Bleed: safe on mobile (no horizontal scroll) ====== */
.q-hero-classic .q-bleed {
  width: 100svw;
  max-width: 100svw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50svw;
  margin-right: -50svw;
  /* Fallback for browsers without svw */
  width: 100vw;
  max-width: 100vw;
  margin-left: -50vw;
  margin-right: -50vw;
  min-height: var(--q-min-h, 75vh);
  overflow-x: hidden;
}

/* ====== Background stack ====== */
.q-hero-classic .q-bg {
  position: absolute;
  inset: 0;
  z-index: 0;
  overflow: hidden;
  min-height: 1px;
  contain: paint;
}
.q-hero-classic .q-media {
  position: absolute !important;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  pointer-events: none;
}
.q-hero-classic .q-overlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

/* ====== Flex container for 3×3 alignment ====== */
.q-hero-classic .q-flexor {
  min-height: inherit;
  display: flex !important;
  width: 100%;
  min-width: 0;
}

/* Mobile 3×3 positioning (data-pos-m) */
.q-hero-classic[data-pos-m*="start_"]  .q-flexor { align-items: flex-start !important; }
.q-hero-classic[data-pos-m*="center_"] .q-flexor { align-items: center !important; }
.q-hero-classic[data-pos-m*="end_"]    .q-flexor { align-items: flex-end !important; }
.q-hero-classic[data-pos-m$="_start"]  .q-flexor { justify-content: flex-start !important; }
.q-hero-classic[data-pos-m$="_center"] .q-flexor { justify-content: center !important; }
.q-hero-classic[data-pos-m$="_end"]    .q-flexor { justify-content: flex-end !important; }

/* Desktop overrides (data-pos-d) */
@media (min-width:768px){
  .q-hero-classic[data-pos-d*="start_"]  .q-flexor { align-items: flex-start !important; }
  .q-hero-classic[data-pos-d*="center_"] .q-flexor { align-items: center !important; }
  .q-hero-classic[data-pos-d*="end_"]    .q-flexor { align-items: flex-end !important; }
  .q-hero-classic[data-pos-d$="_start"]  .q-flexor { justify-content: flex-start !important; }
  .q-hero-classic[data-pos-d$="_center"] .q-flexor { justify-content: center !important; }
  .q-hero-classic[data-pos-d$="_end"]    .q-flexor { justify-content: flex-end !important; }
}

/* ====== Content wrapper ====== */
.q-hero-classic .q-wrap {
  margin-top: var(--q-mar-top, 0);
  margin-bottom: var(--q-mar-bot, 0);
  padding-top: var(--q-pad-top, 60px);
  padding-bottom: var(--q-pad-bot, 60px);
  width: fit-content;
  /* dual caps: design cap + global cap */
  max-inline-size: min(100%, var(--q-max-w, 56rem), var(--q-content-cap, 72rem));
  min-width: 0;
  flex: 0 1 auto !important;
  align-self: auto !important;
  padding-left: max(var(--q-pad-l-m, 0), 16px);
  padding-right: max(var(--q-pad-r-m, 0), 16px);
  text-align: var(--q-text-align, center);
}
@media (min-width:768px){
  .q-hero-classic .q-wrap {
    padding-left: max(var(--q-pad-l-d, var(--q-pad-l-m,0)), 24px);
    padding-right: max(var(--q-pad-r-d, var(--q-pad-r-m,0)), 24px);
  }
}

/* Text alignment switch */
.q-hero-classic[data-text-align="left"]   .q-wrap { --q-text-align: left; }
.q-hero-classic[data-text-align="center"] .q-wrap { --q-text-align: center; }
.q-hero-classic[data-text-align="right"]  .q-wrap { --q-text-align: right; }

/* ====== Typography ====== */
.q-hero-classic .q-accent {
  font-family: var(--q-body, inherit);
  letter-spacing: .08em;
  text-transform: uppercase;
  font-weight: 600;
  font-size: clamp(0.75rem, 0.7rem + 0.8vw, var(--q-accent-fs, 1.125rem));
  line-height: 1.2;
  color: var(--q-accent-color, #fff);
  margin-bottom: 8px;
}
.q-hero-classic .q-heading {
  font-family: var(--q-head, inherit);
  font-weight: 700;
  line-height: 1.12;
  font-size: clamp(1.75rem, 1.1rem + 3.5vw, var(--q-head-fs, 3rem));
  color: var(--q-head-color, #fff);
  margin-bottom: 16px;
  max-inline-size: 30ch;
}
.q-hero-classic .q-sub {
  font-family: var(--q-body, inherit);
  line-height: 1.5;
  font-size: clamp(0.95rem, 0.9rem + 0.6vw, var(--q-sub-fs, 1.125rem));
  color: var(--q-sub-color, #fff);
  margin-bottom: 24px;
  max-inline-size: 70ch;
  margin-left: auto;
  margin-right: auto;
}
.q-hero-classic[data-text-align="left"]  .q-sub { margin-left: 0; margin-right: 0; }
.q-hero-classic[data-text-align="right"] .q-sub { margin-left: 0; margin-right: 0; }

/* ====== CTA row ====== */
.q-hero-classic .q-ctas {
  display: flex !important;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: var(--q-cta-justify, center);
  position: relative;
  z-index: 11;
  max-width: min(100%, var(--q-cta-max-w, 680px));
}
.q-hero-classic[data-text-align="left"]  .q-ctas { margin-left: 0;   margin-right: auto; }
.q-hero-classic[data-text-align="center"] .q-ctas { margin-left: auto; margin-right: auto; }
.q-hero-classic[data-text-align="right"] .q-ctas { margin-left: auto; margin-right: 0; }

/* Buttons */
.q-hero-classic .q-btn {
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  cursor: pointer;
  font-family: var(--q-body, inherit);
  font-weight: 600;
  line-height: 1.2;
  padding: var(--q-btn-py,12px) var(--q-btn-px,24px);
  border-radius: var(--q-btn-br, 6px);
  border-width: var(--q-btn-bw, 1px);
  border-style: solid;
  transition: transform .15s ease, box-shadow .15s ease, background-color .2s ease, color .2s ease, border-color .2s ease;
  min-height: 44px;
  max-width: 100%;
}
.q-hero-classic .q-btn--solid {
  background: var(--q-btn-bg, #fff);
  color: var(--q-btn-fg, #000);
  border-color: transparent;
}
.q-hero-classic .q-btn--outline {
  background: transparent;
  color: var(--q-btn-fg, #000);
  border-color: var(--q-btn-border, #111);
  border-width: max(var(--q-btn-bw, 1px), 1px);
}
.q-hero-classic .q-btn[data-disabled="true"] { opacity:.55; pointer-events:none; }
.q-hero-classic .q-btn:focus-visible { outline:2px solid rgba(59,130,246,.6); outline-offset:2px; }
@media (hover:hover){
  .q-hero-classic .q-btn:hover { transform: translateY(-1px); box-shadow: 0 6px 20px rgb(0 0 0 / 0.16); }
}
.q-hero-classic .q-btn:active { transform: translateY(0); box-shadow: 0 2px 8px rgb(0 0 0 / 0.12); }

/* ====== Safe areas ====== */
@supports (padding: max(0px)){
  .q-hero-classic .q-wrap {
    padding-inline: max(env(safe-area-inset-left), 16px, var(--q-pad-l-m,0));
  }
  @media (min-width:768px){
    .q-hero-classic .q-wrap {
      padding-inline: max(env(safe-area-inset-left), 24px, var(--q-pad-l-d, var(--q-pad-l-m,0)));
    }
  }
}

/* ====== Edge-safety gutters and caps ====== */
.q-hero-classic {
  --q-edge-gutter: clamp(24px, 5vw, 88px);
  --q-content-cap: 72rem;
  --q-cta-max-w: 680px;
}

/* Desktop gutters by placement */
@media (min-width:768px){
  .q-hero-classic[data-pos-d$="_start"] .q-wrap {
    padding-left: max(var(--q-pad-l-d, 0), var(--q-edge-gutter)) !important;
    margin-left: 0 !important; margin-right: auto !important;
  }
  .q-hero-classic[data-pos-d$="_end"] .q-wrap {
    padding-right: max(var(--q-pad-r-d, 0), var(--q-edge-gutter)) !important;
    margin-left: auto !important; margin-right: 0 !important;
  }
  .q-hero-classic[data-pos-d$="_center"] .q-wrap {
    margin-left: auto !important; margin-right: auto !important;
    padding-left: max(var(--q-pad-l-d,0), calc(var(--q-edge-gutter) * .6)) !important;
    padding-right: max(var(--q-pad-r-d,0), calc(var(--q-edge-gutter) * .6)) !important;
  }
}

/* Mobile/tablet gutters */
@media (max-width:767.98px){
  .q-hero-classic { --q-edge-gutter: clamp(16px, 6vw, 32px); }
  .q-hero-classic[data-pos-m$="_start"] .q-wrap {
    padding-left: max(var(--q-pad-l-m, 0), var(--q-edge-gutter)) !important;
    margin-left: 0 !important; margin-right: auto !important;
  }
  .q-hero-classic[data-pos-m$="_end"] .q-wrap {
    padding-right: max(var(--q-pad-r-m, 0), var(--q-edge-gutter)) !important;
    margin-left: auto !important; margin-right: 0 !important;
  }
  .q-hero-classic[data-pos-m$="_center"] .q-wrap {
    margin-left: auto !important; margin-right: auto !important;
    padding-left: max(var(--q-pad-l-m,0), calc(var(--q-edge-gutter) * .6)) !important;
    padding-right: max(var(--q-pad-r-m,0), calc(var(--q-edge-gutter) * .6)) !important;
  }
}

/* Keep headings/subheads respecting caps on ultra-wide */
.q-hero-classic .q-heading,
.q-hero-classic .q-sub {
  max-width: min(100%, var(--q-max-w, 56rem), var(--q-content-cap, 72rem));
}
