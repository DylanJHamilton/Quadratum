{% comment %}
  Quadratum • Hero Banner (Classic) — Tokenized + Responsive + Full 3×3 Align (mobile & desktop)
{% endcomment %}
{{ 'section-hero-classic.css' | asset_url | stylesheet_tag }}

{%- assign s = section.settings -%}

{%- assign pos_m = s.content_position_mobile | default: 'center_center' -%}
{%- assign pos_d = s.content_position       | default: 'center_center' -%}
{%- assign txt_align = s.text_alignment     | default: 'center' -%}

{%- assign cta_align = s.cta_group_align | default: txt_align -%}
{%- assign cta_justify_css = 'center' -%}
{%- case cta_align -%}
  {%- when 'left'  -%}{%- assign cta_justify_css = 'flex-start' -%}
  {%- when 'right' -%}{%- assign cta_justify_css = 'flex-end' -%}
  {%- else -%}{%- assign cta_justify_css = 'center' -%}
{%- endcase -%}

{%- assign min_h_val = '75vh' -%}
{%- case s.min_height -%}
  {%- when 'min-h-[50vh]' -%}{%- assign min_h_val = '50vh' -%}
  {%- when 'min-h-[60vh]' -%}{%- assign min_h_val = '60vh' -%}
  {%- when 'min-h-screen' -%}{%- assign min_h_val = '100vh' -%}
{%- endcase -%}

{%- assign max_w_css = '56rem' -%}
{%- case s.content_max_w -%}
  {%- when 'max-w-2xl' -%}{%- assign max_w_css = '42rem' -%}
  {%- when 'max-w-3xl' -%}{%- assign max_w_css = '48rem' -%}
{%- endcase -%}

{%- assign accent_fs = '1.125rem' -%}
{%- case s.accent_size -%}
  {%- when 'sm'   -%}{%- assign accent_fs = '0.875rem' -%}
  {%- when 'base' -%}{%- assign accent_fs = '1rem' -%}
  {%- when 'xl'   -%}{%- assign accent_fs = '1.25rem' -%}
{%- endcase -%}

{%- assign heading_fs = '3rem' -%}
{%- case s.heading_size -%}
  {%- when '3xl' -%}{%- assign heading_fs = '1.875rem' -%}
  {%- when '4xl' -%}{%- assign heading_fs = '2.25rem' -%}
  {%- when '6xl' -%}{%- assign heading_fs = '3.75rem' -%}
{%- endcase -%}

{%- assign sub_fs = '1.125rem' -%}
{%- case s.subheading_size -%}
  {%- when 'base' -%}{%- assign sub_fs = '1rem' -%}
  {%- when 'xl'   -%}{%- assign sub_fs = '1.25rem' -%}
{%- endcase -%}

{%- assign btn_mode_class = 'q-btn--solid' -%}
{%- if s.button_mode == 'outline' -%}{%- assign btn_mode_class = 'q-btn--outline' -%}{%- endif -%}

{%- assign visibility_classes = '' -%}
{%- if s.hide_on_mobile -%}{%- assign visibility_classes = visibility_classes | append: ' hidden md:block' -%}{%- endif -%}
{%- if s.hide_on_desktop -%}{%- assign visibility_classes = visibility_classes | append: ' md:hidden' -%}{%- endif -%}

{%- assign pad_l_m = 0 -%}{%- assign pad_r_m = 0 -%}
{%- assign pad_l_d = 0 -%}{%- assign pad_r_d = 0 -%}
{%- if s.container_mode == 'contained' -%}
  {%- assign pad_l_m = 16 -%}{%- assign pad_r_m = 16 -%}
  {%- assign pad_l_d = 24 -%}{%- assign pad_r_d = 24 -%}
{%- endif -%}

<section
  id="{{ s.anchor_id | default: 'section-' | append: section.id }}"
  class="q-hero-classic banner-section{{ visibility_classes }}"
  role="region"
  aria-label="{{ s.aria_label | default: 'Hero banner' }}"
  data-pos-m="{{ pos_m }}"
  data-pos-d="{{ pos_d }}"
  data-text-align="{{ txt_align }}"
  style="
    --q-min-h: {{ min_h_val }};
    --q-max-w: {{ max_w_css }};
    --q-pad-top: {{ s.padding_top | default: 60 }}px;
    --q-pad-bot: {{ s.padding_bottom | default: 60 }}px;
    --q-mar-top: {{ s.margin_top | default: 0 }}px;
    --q-mar-bot: {{ s.margin_bottom | default: 0 }}px;
    --q-accent-fs: {{ accent_fs }};
    --q-head-fs: {{ heading_fs }};
    --q-sub-fs: {{ sub_fs }};
    --q-accent-color: {{ s.accent_color | default: '#ffffff' }};
    --q-head-color: {{ s.heading_color | default: '#ffffff' }};
    --q-sub-color: {{ s.subheading_color | default: '#ffffff' }};
    --q-btn-bg: {{ s.button_bg_color | default: '#ffffff' }};
    --q-btn-fg: {{ s.button_text_color | default: '#000000' }};
    --q-btn-border: {{ s.button_border_color | default: '#000000' }};
    --q-btn-bw: {{ s.button_border_width | default: 1 }}px;
    --q-btn-br: {{ s.button_radius | default: 6 }}px;
    --q-btn-px: {{ s.button_padding_horizontal | default: 24 }}px;
    --q-btn-py: {{ s.button_padding_vertical | default: 12 }}px;
    --q-cta-justify: {{ cta_justify_css }};
  "
>
  <div class="q-bleed">
    <div class="q-bg" aria-hidden="true">
      {% if s.background_video != blank %}
        <video class="q-media" autoplay loop muted playsinline preload="none"
          {% if s.background_image != blank %}poster="{{ s.background_image | image_url: width: 1600 }}"{% endif %}>
          <source src="{{ s.background_video }}" type="video/mp4">
        </video>
      {% elsif s.background_image != blank %}
        {{ s.background_image
          | image_url: width: 2880
          | image_tag:
            widths: '960,1440,1920,2560,2880',
            sizes: '100vw',
            loading: 'eager',
            fetchpriority: 'high',
            class: 'q-media',
            decoding: 'async',
            alt: '' }}
      {% else %}
        <div class="q-media" style="background:#000;"></div>
      {% endif %}

      <div class="q-overlay" style="background-color: {{ s.overlay_color }}; opacity: {{ s.overlay_opacity | divided_by: 100.0 }};"></div>
    </div>

    <div class="q-layer">
      <div class="q-flexor">
        <div class="q-wrap {{ s.content_max_w }}"
             style="--q-pad-l-m: {{ pad_l_m }}px; --q-pad-r-m: {{ pad_r_m }}px; --q-pad-l-d: {{ pad_l_d }}px; --q-pad-r-d: {{ pad_r_d }}px;">
          
          {% if s.accent_heading != blank %}
            <p class="q-accent">{{ s.accent_heading }}</p>
          {% endif %}

          {% if s.heading != blank %}
            {% case s.heading_level | default: 'h1' %}
              {% when 'h2' %}<h2 class="q-heading">{{ s.heading }}</h2>
              {% else %}<h1 class="q-heading">{{ s.heading }}</h1>
            {% endcase %}
          {% endif %}

          {% if s.subheading != blank %}
            <p class="q-sub">{{ s.subheading }}</p>
          {% endif %}

          {% if s.cta_text != blank or s.cta2_text != blank %}
            <div class="q-ctas">
              {% if s.cta_text != blank %}
                <a href="{{ s.cta_link | default: '#' }}"
                    rel="noopener" aria-label="{{ s.cta_aria_label | default: s.cta_text | escape }}"
                   class="q-btn {{ btn_mode_class }}"
                   data-cta="primary">
                   {{ s.cta_text }}
                </a>
              {% endif %}
              {% if s.cta2_text != blank %}
                <a href="{{ s.cta2_link | default: '#' }}"
                    rel="noopener" aria-label="{{ s.cta2_aria_label | default: s.cta2_text | escape }}"
                   class="q-btn {{ btn_mode_class }}"
                   data-cta="secondary">
                   {{ s.cta2_text }}
                </a>
              {% endif %}
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Hero Banner • Classic",
  "tag": "section",
  "class": "q-hero-classic",
  "settings": [
    { "type": "text", "id": "aria_label", "label": "ARIA label", "default": "Hero banner" },

    { "type": "header", "content": "Background media" },
    { "type": "image_picker", "id": "background_image", "label": "Background image" },
    { "type": "text", "id": "background_video", "label": "Background video URL (MP4)" },
    { "type": "color", "id": "overlay_color", "label": "Overlay color", "default": "#000000" },
    { "type": "range", "id": "overlay_opacity", "label": "Overlay opacity", "min": 0, "max": 100, "step": 5, "default": 40, "unit": "%" },

    { "type": "header", "content": "Layout & sizing" },
    { "type": "select", "id": "min_height", "label": "Minimum height", "default": "min-h-[75vh]", "options": [
      { "value": "min-h-[50vh]", "label": "50% viewport" },
      { "value": "min-h-[60vh]", "label": "60% viewport" },
      { "value": "min-h-[75vh]", "label": "75% viewport" },
      { "value": "min-h-screen", "label": "Full screen" }
    ]},
    { "type": "select", "id": "container_mode", "label": "Container", "default": "contained", "options": [
      { "value": "contained", "label": "Contained (side padding)" },
      { "value": "full", "label": "Full-bleed (edge to edge)" }
    ]},
    { "type": "select", "id": "content_max_w", "label": "Content width", "default": "max-w-4xl", "options": [
      { "value": "max-w-2xl", "label": "Narrow" },
      { "value": "max-w-3xl", "label": "Comfort" },
      { "value": "max-w-4xl", "label": "Wide" }
    ]},
    { "type": "range", "id": "padding_top", "label": "Padding top", "min": 0, "max": 200, "step": 10, "default": 60 },
    { "type": "range", "id": "padding_bottom", "label": "Padding bottom", "min": 0, "max": 200, "step": 10, "default": 60 },
    { "type": "range", "id": "margin_top", "label": "Margin top", "min": 0, "max": 100, "step": 10, "default": 0 },
    { "type": "range", "id": "margin_bottom", "label": "Margin bottom", "min": 0, "max": 100, "step": 10, "default": 0 },

    { "type": "header", "content": "Content" },
    { "type": "text", "id": "accent_heading", "label": "Accent heading (kicker)", "default": "Featured collection" },
    { "type": "color", "id": "accent_color", "label": "Accent color", "default": "#ffffff" },
    { "type": "select", "id": "accent_size", "label": "Accent size", "options": [
      { "value": "sm", "label": "Small" },
      { "value": "base", "label": "Normal" },
      { "value": "lg", "label": "Large" },
      { "value": "xl", "label": "XL" }
    ], "default": "lg" },

    { "type": "text", "id": "heading", "label": "Heading", "default": "Welcome to our store" },
    { "type": "select", "id": "heading_level", "label": "Heading level", "default": "h1", "options": [
      { "value": "h1", "label": "H1 (page headline)" },
      { "value": "h2", "label": "H2 (sub-headline)" }
    ]},
    { "type": "color", "id": "heading_color", "label": "Heading color", "default": "#ffffff" },
    { "type": "select", "id": "heading_size", "label": "Heading size", "options": [
      { "value": "3xl", "label": "3XL" },
      { "value": "4xl", "label": "4XL" },
      { "value": "5xl", "label": "5XL" },
      { "value": "6xl", "label": "6XL" }
    ], "default": "5xl" },

    { "type": "textarea", "id": "subheading", "label": "Subheading", "default": "Discover your new favorite products." },
    { "type": "color", "id": "subheading_color", "label": "Subheading color", "default": "#ffffff" },
    { "type": "select", "id": "subheading_size", "label": "Subheading size", "options": [
      { "value": "base", "label": "Base" },
      { "value": "lg", "label": "Large" },
      { "value": "xl", "label": "XL" }
    ], "default": "lg" },

    { "type": "header", "content": "Alignment (Text & Content)" },
    { "type": "select", "id": "text_alignment", "label": "Text alignment", "options": [
      { "value": "left", "label": "Left" },
      { "value": "center", "label": "Center" },
      { "value": "right", "label": "Right" }
    ], "default": "center" },
    { "type": "select", "id": "cta_group_align", "label": "CTA alignment (optional)", "options": [
      { "value": "left", "label": "Left" },
      { "value": "center", "label": "Center" },
      { "value": "right", "label": "Right" }
    ], "default": "center" },

    { "type": "header", "content": "Content placement (9 positions)" },
    { "type": "select", "id": "content_position_mobile", "label": "Mobile placement", "default": "center_center", "options": [
      { "value": "start_start", "label": "Top left" },
      { "value": "start_center", "label": "Top center" },
      { "value": "start_end", "label": "Top right" },
      { "value": "center_start", "label": "Middle left" },
      { "value": "center_center", "label": "Middle center" },
      { "value": "center_end", "label": "Middle right" },
      { "value": "end_start", "label": "Bottom left" },
      { "value": "end_center", "label": "Bottom center" },
      { "value": "end_end", "label": "Bottom right" }
    ]},
    { "type": "select", "id": "content_position", "label": "Desktop placement", "default": "center_center", "options": [
      { "value": "start_start", "label": "Top left" },
      { "value": "start_center", "label": "Top center" },
      { "value": "start_end", "label": "Top right" },
      { "value": "center_start", "label": "Middle left" },
      { "value": "center_center", "label": "Middle center" },
      { "value": "center_end", "label": "Middle right" },
      { "value": "end_start", "label": "Bottom left" },
      { "value": "end_center", "label": "Bottom center" },
      { "value": "end_end", "label": "Bottom right" }
    ]},

    { "type": "header", "content": "Buttons" },
    { "type": "text", "id": "cta_text", "label": "Primary button text", "default": "Shop Now" },
    { "type": "url", "id": "cta_link", "label": "Primary button link" },
    { "type": "text", "id": "cta_aria_label", "label": "Primary button ARIA label", "default": "Shop Now" },

    { "type": "text", "id": "cta2_text", "label": "Secondary button text", "default": "Learn More" },
    { "type": "url", "id": "cta2_link", "label": "Secondary button link" },
    { "type": "text", "id": "cta2_aria_label", "label": "Secondary button ARIA label", "default": "Learn More" },

    { "type": "select", "id": "button_mode", "label": "Button style", "options": [
      { "value": "solid", "label": "Solid" },
      { "value": "outline", "label": "Outline" }
    ], "default": "solid" },
    { "type": "color", "id": "button_bg_color", "label": "Button background (solid)", "default": "#ffffff" },
    { "type": "color", "id": "button_text_color", "label": "Button text color", "default": "#000000" },
    { "type": "color", "id": "button_border_color", "label": "Button border color (outline)", "default": "#000000" },
    { "type": "range", "id": "button_border_width", "label": "Button border width", "min": 0, "max": 10, "step": 1, "default": 1 },
    { "type": "range", "id": "button_radius", "label": "Button radius", "min": 0, "max": 50, "step": 2, "default": 6 },
    { "type": "range", "id": "button_padding_vertical", "label": "Button padding vertical", "min": 6, "max": 32, "step": 1, "default": 12 },
    { "type": "range", "id": "button_padding_horizontal", "label": "Button padding horizontal", "min": 10, "max": 36, "step": 1, "default": 24 },

    { "type": "header", "content": "Visibility & anchors" },
    { "type": "text", "id": "anchor_id", "label": "Optional anchor ID" },
    { "type": "checkbox", "id": "hide_on_mobile", "label": "Hide on mobile", "default": false },
    { "type": "checkbox", "id": "hide_on_desktop", "label": "Hide on desktop", "default": false }
  ],
  "presets": [{ "name": "Hero Banner • Classic", "category": "Hero" }]
}
{% endschema %}
