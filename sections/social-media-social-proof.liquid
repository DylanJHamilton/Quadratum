{% comment %}
  Quadratum ‚Äî Social Media: Social Proof Strip

  Purpose:
  ‚Ä¢ Thin flexible strip of manual ‚Äútrust metrics‚Äù
  ‚Ä¢ No external APIs
  ‚Ä¢ Used near hero / PDP / checkout, etc.

  Notes:
  ‚Ä¢ NO <header> tag (SEO: only one per page, handled by templates)
  ‚Ä¢ All schema defaults are non-blank
{% endcomment %}

{%- assign s = section.settings -%}

{%- style -%}
  .q-social-proof-strip {
    padding-block: var(--q-section-pad-y, 40px);
  }

  .q-social-proof-strip__outer {
    max-width: var(--q-container-md, 960px);
    margin-inline: auto;
    padding-inline: var(--q-container-pad-x, 1.25rem);
  }

  .q-social-proof-strip__inner {
    display: flex;
    flex-direction: column;
    gap: var(--q-space-md, 1.25rem);
  }

  .q-social-proof-strip__header {
    max-width: 40rem;
    margin-inline: auto;
    text-align: center;
  }

  .q-social-proof-strip--align-left .q-social-proof-strip__header,
  .q-social-proof-strip--align-left .q-social-proof-strip__items-wrap {
    text-align: left;
    align-items: flex-start;
  }

  .q-social-proof-strip--align-right .q-social-proof-strip__header,
  .q-social-proof-strip--align-right .q-social-proof-strip__items-wrap {
    text-align: right;
    align-items: flex-end;
  }

  .q-social-proof-strip__kicker {
    font-size: 0.75rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--text_muted, #6b7280);
    margin: 0 0 0.2rem 0;
  }

  .q-social-proof-strip__heading {
    margin: 0 0 0.3rem 0;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text_base, #111827);
  }

  .q-social-proof-strip__body {
    margin: 0;
    color: var(--text_muted, #6b7280);
    font-size: 0.95rem;
    line-height: 1.6;
  }

  .q-social-proof-strip__items-wrap {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .q-social-proof-strip__list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--q-proof-gap, 16px);
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .q-social-proof-strip--justify-start .q-social-proof-strip__list {
    justify-content: flex-start;
  }
  .q-social-proof-strip--justify-center .q-social-proof-strip__list {
    justify-content: center;
  }
  .q-social-proof-strip--justify-space-between .q-social-proof-strip__list {
    justify-content: space-between;
  }
  .q-social-proof-strip--justify-space-around .q-social-proof-strip__list {
    justify-content: space-around;
  }

  .q-social-proof-strip--layout-stacked .q-social-proof-strip__list {
    flex-direction: column;
    align-items: stretch;
  }

  .q-social-proof-strip__item {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.45rem 0.9rem;
    border-radius: 999px;
    border-width: 1px;
    border-style: solid;
    border-color: transparent;
    background-color: transparent;
    color: inherit;
    font-size: 0.9rem;
    line-height: 1.3;
  }

  .q-social-proof-strip--style-pill .q-social-proof-strip__item {
    background-color: var(--bg_contrast, #f3f4f6);
    border-color: transparent;
  }

  .q-social-proof-strip--style-outline .q-social-proof-strip__item {
    background-color: transparent;
    border-color: rgba(15, 23, 42, 0.14);
  }

  .q-social-proof-strip--style-bare .q-social-proof-strip__item {
    padding-inline: 0;
    padding-block: 0.25rem;
    border-color: transparent;
    border-width: 0;
    border-radius: 0;
  }

  .q-social-proof-strip__icon {
    width: var(--q-proof-icon-size, 18px);
    height: var(--q-proof-icon-size, 18px);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 999px;
    background-color: transparent;
    color: inherit;
    font-size: calc(var(--q-proof-icon-size, 18px) * 0.7);
    flex-shrink: 0;
  }

  .q-social-proof-strip--style-pill .q-social-proof-strip__icon {
    background-color: rgba(15, 23, 42, 0.06);
  }

  .q-social-proof-strip__value {
    font-weight: 600;
    white-space: nowrap;
  }

  .q-social-proof-strip__label {
    opacity: 0.88;
  }

  .q-social-proof-strip__item--emphasis .q-social-proof-strip__value {
    font-weight: 700;
  }

  .q-social-proof-strip__item--emphasis {
    box-shadow: 0 8px 26px rgba(15, 23, 42, 0.12);
  }

  /* Background schemes */
  .q-social-proof-strip--bg-default {
    background-color: var(--bg_root, #ffffff);
    color: var(--text_base, #111827);
  }

  .q-social-proof-strip--bg-subtle {
    background-color: var(--bg_contrast, #f6f7f8);
    color: var(--text_base, #111827);
  }

  .q-social-proof-strip--bg-emphasis {
    background-color: var(--color_primary, #2563eb);
    color: var(--text_on_color, #ffffff);
  }

  .q-social-proof-strip--bg-emphasis .q-social-proof-strip__body {
    color: var(--text_on_color, #ffffff);
    opacity: 0.9;
  }

  @media (max-width: 640px) {
    .q-social-proof-strip__outer {
      padding-inline: 1rem;
    }
  }

  .q-sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }
{%- endstyle -%}

<section
  class="
    q-social-proof-strip
    q-social-proof-strip--align-{{ s.align }}
    q-social-proof-strip--layout-{{ s.layout_variant }}
    q-social-proof-strip--style-{{ s.style }}
    q-social-proof-strip--justify-{{ s.justify | replace: ' ', '-' }}
    q-social-proof-strip--bg-{{ s.bg_scheme }}
  "
  style="
    --q-proof-gap: {{ s.gap }}px;
    --q-proof-icon-size: {{ s.icon_size }}px;
  "
>
  <div class="q-social-proof-strip__outer">
    <div class="q-social-proof-strip__inner">
      {%- if s.show_kicker or s.heading != blank or s.show_body -%}
        <div class="q-social-proof-strip__header">
          {%- if s.show_kicker and s.kicker != blank -%}
            <p class="q-social-proof-strip__kicker">
              {{ s.kicker | escape }}
            </p>
          {%- endif -%}

          {%- if s.heading != blank -%}
            <p class="q-social-proof-strip__heading">
              {{ s.heading | escape }}
            </p>
          {%- endif -%}

          {%- if s.show_body and s.body != blank -%}
            <p class="q-social-proof-strip__body">
              {{ s.body }}
            </p>
          {%- endif -%}
        </div>
      {%- endif -%}

      {%- if section.blocks.size > 0 -%}
        <div class="q-social-proof-strip__items-wrap">
          <ul
            class="q-social-proof-strip__list"
            role="list"
            aria-label="{{ s.aria_label | escape }}"
            style="flex-wrap: {% if s.wrap_on_mobile %}wrap{% else %}nowrap{% endif %};"
          >
            {%- for block in section.blocks -%}
              {%- assign b = block.settings -%}

              {%- comment %}
                Simple icon glyphs mapped from icon setting.
                (No external snippets to avoid runtime errors.)
              {%- endcomment -%}
              {%- assign icon_glyph = '‚óè' -%}
              {%- case b.icon -%}
                {%- when 'star' -%}
                  {%- assign icon_glyph = '‚òÖ' -%}
                {%- when 'heart' -%}
                  {%- assign icon_glyph = '‚ô•' -%}
                {%- when 'users' -%}
                  {%- assign icon_glyph = 'üë•' -%}
                {%- when 'shopping-bag' -%}
                  {%- assign icon_glyph = 'üõç' -%}
                {%- when 'trophy' -%}
                  {%- assign icon_glyph = 'üèÜ' -%}
                {%- when 'shield-check' -%}
                  {%- assign icon_glyph = '‚úî' -%}
              {%- endcase -%}

              {%- assign sr_text = b.sr_label | default: b.value | default: b.label -%}

              <li
                class="
                  q-social-proof-strip__item
                  {% if b.emphasis %}q-social-proof-strip__item--emphasis{% endif %}
                "
                role="listitem"
                {{ block.shopify_attributes }}
              >
                {%- if s.show_icons -%}
                  <span class="q-social-proof-strip__icon" aria-hidden="true">
                    {{ icon_glyph }}
                  </span>
                {%- endif -%}

                <div class="q-social-proof-strip__content">
                  <span class="q-social-proof-strip__value">
                    {{ b.value }}
                  </span>

                  {%- if b.label != blank -%}
                    <span class="q-social-proof-strip__label">
                      {{ b.label }}
                    </span>
                  {%- else -%}
                    {%- if sr_text != blank -%}
                      <span class="q-sr-only">
                        {{ sr_text }}
                      </span>
                    {%- endif -%}
                  {%- endif -%}
                </div>
              </li>
            {%- endfor -%}
          </ul>
        </div>
      {%- endif -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Social Media - Proof",
  "tag": "section",
  "class": "q-social-proof-strip",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "kicker",
      "label": "Kicker",
      "default": "Trusted by customers worldwide"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Real results. Real people."
    },
    {
      "type": "textarea",
      "id": "body",
      "label": "Body",
      "default": "Join thousands of customers who shop with us every month."
    },
    {
      "type": "select",
      "id": "align",
      "label": "Text alignment",
      "default": "center",
      "options": [
        { "value": "left", "label": "Left" },
        { "value": "center", "label": "Center" },
        { "value": "right", "label": "Right" }
      ]
    },

    {
      "type": "header",
      "content": "Layout & style"
    },
    {
      "type": "select",
      "id": "layout_variant",
      "label": "Layout variant",
      "default": "row",
      "options": [
        { "value": "row", "label": "Row" },
        { "value": "stacked", "label": "Stacked" }
      ]
    },
    {
      "type": "select",
      "id": "justify",
      "label": "Item justification",
      "default": "center",
      "options": [
        { "value": "start", "label": "Start" },
        { "value": "center", "label": "Center" },
        { "value": "space-between", "label": "Space between" },
        { "value": "space-around", "label": "Space around" }
      ]
    },
    {
      "type": "select",
      "id": "style",
      "label": "Style",
      "default": "pill",
      "options": [
        { "value": "pill", "label": "Pill" },
        { "value": "outline", "label": "Outline" },
        { "value": "bare", "label": "Bare" }
      ]
    },
    {
      "type": "checkbox",
      "id": "show_icons",
      "label": "Show icons",
      "default": true
    },
    {
      "type": "range",
      "id": "icon_size",
      "label": "Icon size (px)",
      "min": 12,
      "max": 28,
      "step": 1,
      "default": 18
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap between items (px)",
      "min": 4,
      "max": 32,
      "step": 2,
      "default": 16
    },
    {
      "type": "checkbox",
      "id": "wrap_on_mobile",
      "label": "Wrap items on small screens",
      "default": true
    },
    {
      "type": "select",
      "id": "bg_scheme",
      "label": "Background scheme",
      "default": "default",
      "options": [
        { "value": "default", "label": "Default" },
        { "value": "subtle", "label": "Subtle surface" },
        { "value": "emphasis", "label": "Emphasis (primary)" }
      ]
    },
    {
      "type": "checkbox",
      "id": "show_kicker",
      "label": "Show kicker",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_body",
      "label": "Show body text",
      "default": true
    },

    {
      "type": "header",
      "content": "Accessibility"
    },
    {
      "type": "text",
      "id": "aria_label",
      "label": "ARIA label for metrics list",
      "default": "Social proof metrics"
    }
  ],
  "blocks": [
    {
      "type": "metric",
      "name": "Metric",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "default": "star",
          "options": [
            { "value": "star", "label": "Star (reviews)" },
            { "value": "heart", "label": "Heart (fans)" },
            { "value": "users", "label": "Users (customers)" },
            { "value": "shopping-bag", "label": "Shopping bag (orders)" },
            { "value": "trophy", "label": "Trophy (awards)" },
            { "value": "shield-check", "label": "Shield check (guarantees)" }
          ]
        },
        {
          "type": "text",
          "id": "value",
          "label": "Value",
          "default": "10k+"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Happy customers"
        },
        {
          "type": "text",
          "id": "sr_label",
          "label": "Screen reader label",
          "default": "Over ten thousand happy customers"
        },
        {
          "type": "checkbox",
          "id": "emphasis",
          "label": "Emphasize this metric",
          "default": false
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Social Media - Social Proof",
      "category": "Social Media",
      "blocks": [
        {
          "type": "metric",
          "settings": {
            "icon": "star",
            "value": "2k+",
            "label": "5-star reviews",
            "sr_label": "Over two thousand five star reviews",
            "emphasis": true
          }
        },
        {
          "type": "metric",
          "settings": {
            "icon": "users",
            "value": "10k+",
            "label": "Happy customers",
            "sr_label": "Over ten thousand happy customers",
            "emphasis": false
          }
        },
        {
          "type": "metric",
          "settings": {
            "icon": "heart",
            "value": "50k+",
            "label": "Social followers",
            "sr_label": "Over fifty thousand social media followers",
            "emphasis": false
          }
        }
      ]
    }
  ]
}
{% endschema %}

{% javascript %}{% endjavascript %}
